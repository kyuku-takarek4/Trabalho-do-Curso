<!DOCTYPE html>
<html lang="pt-br">

<head>
    <title>pagina inicial</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">

    <link rel="stylesheet" href="css/pag-inicial.css">
    <link rel="stylesheet" href="css/estilo.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
</head>

<body>
    <div id="imagem-sidebar" class="sidebar-imagem" style="display: none;"> 
        <button id="fechar-imagem" onclick="fecharImagemSidebar()">X</button>
        <div id="divisao">
            <div>
                <img id="imagem-modal" src="" alt="Imagem" />
            </div>
            <div id="borda-texto">
                <ul class="descricao">
                    <a>Nome:</h2>
                    <li><input type="text" id="nome" placeholder="Nome" required readonly></li>
                    <a>Telefone:</h2>
                    <li><input type="text" id="telefone" placeholder="Telefone" required readonly></li>
                    <a>Endereço:</h2>
                    <li><input type="text" id="endereco" placeholder="Endereço" required readonly></li>
                    <a>Representante:</h2>
                    <li><input type="text" id="representante" placeholder="Representante" required readonly></li>
                    <h2>Descrição:</h2>
                    <li><textarea id="descricao" placeholder="" required readonly></textarea></li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="scroll">
        <header id="bordabaixa">

            <i id="rota-logo" class="fa-solid fa-route">Blu</i>
            <div id="lupa-e-barra">
                <input type="text" id="barradepesquisa" placeholder="Digite sua pesquisa aqui">
                <i id="lupa" class="fa-solid fa-magnifying-glass"></i>
            </div>
            <button id="perfil" onclick="sidebarPerfil()">
                <img id="tamanhoimagem"
                    src="https://i.pinimg.com/originals/fe/ca/b1/fecab1f731c42e9af0c86504f791de0d.jpg">
            </button>


        </header>

        
        <div id="menu-sidebar" class="menu">
            <ul id="sidebar">
                <li>
                    <h1  id="menu">Menu</h1>
                </li>
                <li>
                    <a class="ubuntu-light" id="estilodolink" href="./pag-empresas.html">Alterar Dados</a>
                </li>
                <li>
                    <a class="ubuntu-light" href="">Privacidade</a>
                </li>
                <li>
                    <a class="ubuntu-light" href="">Suporte</a>
                </li>
                <li>
                    <a class="ubuntu-light" href="./cadastro.html">Sair</a>
                </li>
            </ul>
        </div>



        <div id="esponsividade">
            <div>
                <div class="menu-botao" onclick="toggleSidebar()">
                    <img src="./imagens/menu-de-tres-linhas.png" alt="Menu">
                </div>
            </div>
            <div id="estrutura">
                <div>
                    <div id="texto-teste" class="ubuntu-light">teste</div>
                    <div class="container">
                        <button class="prev">⇦</button>
                        <div class="carrossel" id="carrossel">
                            <!-- As imagens serão inseridas aqui pelo JavaScript -->
                        </div>
                        <button class="next">⇨</button>
                    </div>
                    <div id="texto-teste" class="ubuntu-light">teste 2</div>
                    <div class="container">
                        <button class="prev2">⇦</button>
                                <div class="carrossel2">
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 1"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 2"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 3"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 4"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 5"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 6"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 7"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 8"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 9"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 10"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 11"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 12"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 13"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 14"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 15"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 16"></div>
                                    <div class="imagem"><img src="./imagens/image.png" alt="imagem 17"></div>
                                    <div class="imagem"><img src="./imagens/image18.png" alt="imagem 18"></div>
                                </div>
                                <button class="next2">⇨</button>
                    </div>
                </div>
                <div id="propaganda">
                    <img src="./imagens/propaganda.png" alt="">

                </div>
            </div>
        </div>
        <div id="mensagemBoasVindas"></div>






        <script src="carrossel.js"></script>

        <script src="pag-inicial.js"></script>
        <script>
            // Garante que o código seja executado após o DOM estar totalmente carregado
            document.addEventListener("DOMContentLoaded", function() {
    // Verifica se o usuário está logado (se o ID está no localStorage)
    const userID = localStorage.getItem('userID');

    if (userID) {
        // Faz uma requisição ao backend para obter os dados do usuário
        fetch(`http://localhost:3000/api/usuarios/${userID}`)
            .then(response => {
                if (!response.ok) {
                    throw new Error("Erro ao carregar os dados do usuário.");
                }
                return response.json();
            })
            .then(usuario => {
                // Atualiza a imagem do botão perfil com a imagem do usuário
                const imagemPerfil = document.getElementById("tamanhoimagem");
                imagemPerfil.src = usuario.imagem; // Adiciona a imagem do usuário
                imagemPerfil.alt = `Perfil de ${usuario.nome}`; // Texto alternativo
            })
            .catch(error => {
                console.error(error.message);
            });
    } else {
        console.error('ID do usuário não encontrado');
    }
});

        </script>
        <script>
            // Função para redirecionar com o ID do usuário
            function redirecionarParaEmpresas() {
                const userID = localStorage.getItem('userID');  // Pega o ID do usuário do localStorage
                if (userID) {
                    // Redireciona para a página 'pag-empresas.html' com o ID do usuário na URL
                    window.location.href = `pag-empresas.html?userID=${userID}`;
                } else {
                    console.error('ID do usuário não encontrado');
                }
            }
        
            // Adiciona o evento de clique ao botão "perfil"
            document.getElementById('perfil').addEventListener('click', redirecionarParaEmpresas);
        
            // Adiciona o evento de clique ao botão "estilodolink"
            document.getElementById('estilodolink').addEventListener('click', redirecionarParaEmpresas);
        </script>
    </div>
</body>

</html>